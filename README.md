# PostgreSQL
1. В работе использовался локальный тип подключения.
2. Скриншот ER-диаграммы из DBeaver`a.
![image](https://github.com/urpolina/PostgreSQL/assets/108413091/7f33ef91-e8ee-4e4f-9a0c-5d5c70a74f13)
3. Краткое описание БД.\
БД состоит из 8 таблиц, в которых представлены следующие данные:\
● aircrafts - самолеты,\
● airports - аэропорты,\
● boarding_passes - посадочные талоны,\
● bookings - бронирования,\
● flights - рейсы,\
● seats - места в самолетах,\
● ticket_flights - класс и стоимость перелета,\
● tickets - билеты.\
Также БД имеет 2 представления:\
● flights_v - представление содержит данные о перелетах,\
● routes - материализованное представление содержит информацию о
маршрутах.
4. Развернутый анализ БД - описание таблиц, логики, связей и бизнес области.\
Основной сущностью является бронирование (bookings).\
В одно бронирование можно включить несколько пассажиров, каждому из
которых выписывается отдельный билет (tickets). Билет имеет уникальный номер и
содержит информацию о пассажире. Как таковой пассажир не является отдельной
сущностью. Как имя, так и номер документа пассажира могут меняться с течением
времени, так что невозможно однозначно найти все билеты одного человека; для
простоты можно считать, что все пассажиры уникальны.\
Билет включает один или несколько перелетов (ticket_flights). Несколько
перелетов могут включаться в билет в случаях, когда нет нет прямого рейса,
соединяющего пункты отправления и назначения (полет с пересадками), либо когда
билет взят «туда и обратно».\
В схеме данных нет жесткого ограничения, но предполагается, что все билеты в
одном бронировании имеют одинаковый набор перелетов.
Каждый рейс (flights) следует из одного аэропорта (airports) в другой. Рейсы с
одним номером имеют одинаковые пункты вылета и назначения, но будут отличаться
датой отправления.\
При регистрации на рейс пассажиру выдается посадочный талон
(boarding_passes), в котором указано место в самолете. Пассажир может
зарегистрироваться только на тот рейс, который есть у него в билете. Комбинация
рейса и места в самолете должна быть уникальной, чтобы не допустить выдачу двух
посадочных талонов на одно место.\
Количество мест (seats) в самолете и их распределение по классам
обслуживания зависит от модели самолета (aircrafts), выполняющего рейс.
Предполагается, что каждая модель самолета имеет только одну компоновку салона.
Схема данных не контролирует, что места в посадочных талонах соответствуют
имеющимся в самолете (такая проверка может быть сделана с использованием
табличных триггеров или в приложении).
5. Бизнес задачи, которые можно решить, используя БД.\
● Стоимость билетов одного класса на одном рейсе и их зависимость от даты
бронирования.\
● Дата бронирования и дата перелета - какая доля билетов продается задолго до
перелета, какая накануне.\
● Наполняемость самолета и средняя стоимость билета на каждом рейсе по
одному маршруту.\
● Средняя наполняемость самолетов по каждому маршруту.\
● Соотношение всех билетов эконом-класса к билетам бизнес-класса на одном
рейсе.
